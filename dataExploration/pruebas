import pandas as pd
import geopandas as gpd
import matplotlib.pyplot as plt

# Cargar el archivo del mapa
world = gpd.read_file("ne_110m_admin_0_countries/ne_110m_admin_0_countries.shp")
european_countries = [
    'Spain','Germany','France'
]

europe = world[world['ADMIN'].isin(european_countries)]
print(europe)

dataset = pd.read_csv('Bank-Churn-Project/src/rawDataset.csv')
country_counts = dataset['Geography'].value_counts()
print(country_counts)

country_data = pd.DataFrame(country_counts).reset_index()
country_data.columns = ['ADMIN', 'frequency']

europe = europe.merge(country_data, how='left', on='ADMIN')

fig, ax = plt.subplots(1, 1, figsize=(10, 8))
europe.boundary.plot(ax=ax, linewidth=1)
europe.plot(column='frequency', cmap='Reds', linewidth=0.5, ax=ax, edgecolor='0.1', legend=True)

ax.set_title("GEOGRAPHICAL DISTRIBUTION", fontsize=15)
ax.set_axis_off()
plt.show()
